# Viikkoraportti - Viikko 4
Viime viikolla sain pelin toimimaan tekoälyn avulla ja heuristiikan toimimaan ilman minimaxia. Vaikka koodi toimikin jo hyvin se toimi lähinnä reaktiivisesti miettimättä siirtoja eteenpäin. Tällä viikolla olen refaktoroinut koodia minimaxia varten. Huomasin tehdessä ettei heuristiikkani täysin soveltunut minimaxia varten ja tuota täytyi muuttaa. Halusin saada heuristiikka-algoritmista tehokkaan joten päätin pitää kirjaa riveistä. Havaitsin tämän vaativan myös suhteellisen paljon logiikkaa että rivit toimivat kuten oletettu. Minimaxia käyttäessä rivejä täytyy sekä pienentää että suurentaa, joten erilliset rivit täytyy sekä yhdistää että katkaista siten että päädytään takaisin alkutilanteeseen. 

Sain tällä viikolla tehtyä alkeellisen heuristiikan minimaxille ja minimaxin toimimaan. Huomasin että minimax itsessään on suhteellisen raskas ja siirtoja ei voi laskea kovin pitkällä eteenäin. Tällä viikolla vaikein asia oli pelilogiikan refaktorointi ja heuristiikan uudelleenkirjoitus. Erityisesti rivien ylläpito vaati mietintää. Tällä viikolla aikaa on mennyt noin 16h. 

Seuraavalla viikolla tähän pitää lisätä alfa-beta-karsinta jotta algoritmista tulis tehokkaampi ja laskentaa voisi tehdä pidemmälle. Lisäksi heuristiikkaa tulisi parantaa jonkin verran jotta voitaisiin tunnistaa tulevien tilanteiden potentiaalia ja priorisoida tehokkaammin eri haaroja alfa-beta-karsinnassa. Näiden lisäksi ensi viikolla testaus- ja toteutusdokumentti pitäisi päivittää ajantasalle.

